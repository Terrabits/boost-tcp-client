\doxysection{examples/socket.cpp File Reference}
\hypertarget{examples_2socket_8cpp}{}\label{examples_2socket_8cpp}\index{examples/socket.cpp@{examples/socket.cpp}}


\doxylink{class_rohde_schwarz_1_1_socket}{Rohde\+Schwarz\+::\+Socket} example.  


{\ttfamily \#include "{}rohdeschwarz/socket.\+hpp"{}}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$sstream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{examples_2socket_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char \texorpdfstring{$\ast$}{*}argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_rohde_schwarz_1_1_socket}{Rohde\+Schwarz\+::\+Socket} example. 

This example demonstrates basic use of the {\ttfamily \doxylink{class_rohde_schwarz_1_1_socket}{Rohde\+Schwarz\+::\+Socket}} class.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ rohdeschwarz}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{socket_8hpp}{rohdeschwarz/socket.hpp}}"{}}}
\DoxyCodeLine{\textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_rohde_schwarz}{RohdeSchwarz}};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ std\ lib}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{examples_2socket_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}(\textcolor{keywordtype}{int}\ argc,\ \textcolor{keywordtype}{char}*\ argv[])}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ check\ args}}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{if}\ (argc\ !=\ 2)}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Usage:\ http-\/get\ <host>\(\backslash\)n"{}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ create\ socket;\ connect}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_rohde_schwarz_1_1_socket}{Socket}}\ socket(argv[1],\ 80);}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ create\ http\ get\ header}}
\DoxyCodeLine{\ \ \ \ std::stringstream\ header;}
\DoxyCodeLine{\ \ \ \ header\ <<\ \textcolor{stringliteral}{"{}GET\ /\ HTTP/1.1\(\backslash\)r\(\backslash\)nHost:\ "{}};}
\DoxyCodeLine{\ \ \ \ header\ <<\ argv[1];}
\DoxyCodeLine{\ \ \ \ header\ <<\ \textcolor{stringliteral}{"{}:80\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ make\ request;\ print\ response}}
\DoxyCodeLine{\ \ \ \ std::string\ response\ =\ socket.query(header.str());}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ response\ <<\ std::endl\ <<\ std::endl;}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{catch}\ (std::exception\&\ e)}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Exception:\ "{}}\ <<\ e.what()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 2;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \textcolor{comment}{//\ success}}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 

Definition in file \mbox{\hyperlink{examples_2socket_8cpp_source}{socket.\+cpp}}.



\doxysubsection{Function Documentation}
\Hypertarget{examples_2socket_8cpp_a0ddf1224851353fc92bfbff6f499fa97}\label{examples_2socket_8cpp_a0ddf1224851353fc92bfbff6f499fa97} 
\index{socket.cpp@{socket.cpp}!main@{main}}
\index{main@{main}!socket.cpp@{socket.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char \texorpdfstring{$\ast$}{*}}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{examples_2socket_8cpp_source_l00022}{22}} of file \mbox{\hyperlink{examples_2socket_8cpp_source}{socket.\+cpp}}.

